<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-1BmE4kWBq78iYhFldvKuhfTAU6auU8tT94WrHftjDbrCEXSU1oBoqyl2QvZ6jIW3" crossorigin="anonymous">
    <link rel="stylesheet" th:href="@{/css/login.css}" href="/css/login.css">
</head>
<body>
<section id="login-section">
<div class="d-flex justify-content-center align-items-center  h-100 w-100">
<div class="login-div" style="height:500px">
<div class="row text-light " >


  <form id="forgotform" action="/forgotpassword" method="POST">
    <!-- <label class="text-primary fs-1">Email id</label><br> -->
    <input class="input_main" type="hidden" name="email" th:value="${email}" ><br>
    <label>New Password</label><br>
 
    <input class="input_main" id="newpassword" type="password" name="newpassword" style="padding:5px"><br>
    <p id="pass_error" style="color:red ;" ></p>
    <label>Confirm Password</label><br>
    
    <input class="input_main" id="confirmpassword" type="password" name="confirmpassword"><br>
    <p id="confirmpass_error" style="color:red"></p></p>
    <button class="submit" type="submit" value="Submit" >Submit</button>
  </form>

</div>
<!-- <div class="login_div2">
<input id="checkbox" type="checkbox" >
<label for="checkbox">keepme login</label><br>

<a class="  " href="">Forget Password</a><br>


<a class="" th:href="@{/signup}">first Time Login</a>

</div> -->
</div>
</div>

<script type="text/javascript">
    var myform = document.querySelector("#forgotform");

    myform.addEventListener('submit', function(e) {
        if (!forgot()) {
            e.preventDefault();
        }
    });

    function forgot(){
        var success=true;
        var pass=document.querySelector("#newpassword").value.trim();
        var confirmpass=document.querySelector("#confirmpassword").value.trim();
        var pass_error = document.querySelector("#pass_error");
        var confirmpass_error = document.querySelector("#confirmpass_error");
        
        if (!/^[0-9 ]+$/.test(pass)) {
            success = false;
            pass_error.textContent = "Password must be numeric";
        }else if (pass.includes(' ')) {
    success = false;
    pass_error.textContent = "Password must not contain spaces";
}     
        else if (pass.length !== 8) {
            success = false;
            pass_error.textContent = "Your password must contain 8 numbers";
        } else {
            pass_error.textContent = "";
        }

        if (pass != confirmpass) {
          success=false;
          confirmpass_error.textContent = "confirm password not a same";
      }

        return success;
    }


 
      

 </script>

</section>
</body>





</html> 